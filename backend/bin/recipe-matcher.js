#!/usr/bin/env node
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
require("source-map-support/register");
const cdk = require("aws-cdk-lib");
const stateful_stack_1 = require("../lib/stateful-stack");
const stateless_stack_1 = require("../lib/stateless-stack");
const app = new cdk.App();
// Deploy stateful resources first (DynamoDB tables)
const statefulStack = new stateful_stack_1.StatefulStack(app, 'RecipeMatcherStatefulStack', {
    env: {
        account: process.env.CDK_DEFAULT_ACCOUNT,
        region: process.env.CDK_DEFAULT_REGION,
    },
});
// Deploy stateless resources (Lambda functions, API Gateway, etc.)
new stateless_stack_1.StatelessStack(app, 'RecipeMatcherStatelessStack', {
    env: {
        account: process.env.CDK_DEFAULT_ACCOUNT,
        region: process.env.CDK_DEFAULT_REGION,
    },
    // Pass stateful stack as dependency
    statefulStack,
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVjaXBlLW1hdGNoZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJyZWNpcGUtbWF0Y2hlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFDQSx1Q0FBcUM7QUFDckMsbUNBQW1DO0FBQ25DLDBEQUFzRDtBQUN0RCw0REFBd0Q7QUFFeEQsTUFBTSxHQUFHLEdBQUcsSUFBSSxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUM7QUFFMUIsb0RBQW9EO0FBQ3BELE1BQU0sYUFBYSxHQUFHLElBQUksOEJBQWEsQ0FBQyxHQUFHLEVBQUUsNEJBQTRCLEVBQUU7SUFDekUsR0FBRyxFQUFFO1FBQ0gsT0FBTyxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsbUJBQW1CO1FBQ3hDLE1BQU0sRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLGtCQUFrQjtLQUN2QztDQUNGLENBQUMsQ0FBQztBQUVILG1FQUFtRTtBQUNuRSxJQUFJLGdDQUFjLENBQUMsR0FBRyxFQUFFLDZCQUE2QixFQUFFO0lBQ3JELEdBQUcsRUFBRTtRQUNILE9BQU8sRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLG1CQUFtQjtRQUN4QyxNQUFNLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxrQkFBa0I7S0FDdkM7SUFDRCxvQ0FBb0M7SUFDcEMsYUFBYTtDQUNkLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIiMhL3Vzci9iaW4vZW52IG5vZGVcbmltcG9ydCAnc291cmNlLW1hcC1zdXBwb3J0L3JlZ2lzdGVyJztcbmltcG9ydCAqIGFzIGNkayBmcm9tICdhd3MtY2RrLWxpYic7XG5pbXBvcnQgeyBTdGF0ZWZ1bFN0YWNrIH0gZnJvbSAnLi4vbGliL3N0YXRlZnVsLXN0YWNrJztcbmltcG9ydCB7IFN0YXRlbGVzc1N0YWNrIH0gZnJvbSAnLi4vbGliL3N0YXRlbGVzcy1zdGFjayc7XG5cbmNvbnN0IGFwcCA9IG5ldyBjZGsuQXBwKCk7XG5cbi8vIERlcGxveSBzdGF0ZWZ1bCByZXNvdXJjZXMgZmlyc3QgKER5bmFtb0RCIHRhYmxlcylcbmNvbnN0IHN0YXRlZnVsU3RhY2sgPSBuZXcgU3RhdGVmdWxTdGFjayhhcHAsICdSZWNpcGVNYXRjaGVyU3RhdGVmdWxTdGFjaycsIHtcbiAgZW52OiB7XG4gICAgYWNjb3VudDogcHJvY2Vzcy5lbnYuQ0RLX0RFRkFVTFRfQUNDT1VOVCxcbiAgICByZWdpb246IHByb2Nlc3MuZW52LkNES19ERUZBVUxUX1JFR0lPTixcbiAgfSxcbn0pO1xuXG4vLyBEZXBsb3kgc3RhdGVsZXNzIHJlc291cmNlcyAoTGFtYmRhIGZ1bmN0aW9ucywgQVBJIEdhdGV3YXksIGV0Yy4pXG5uZXcgU3RhdGVsZXNzU3RhY2soYXBwLCAnUmVjaXBlTWF0Y2hlclN0YXRlbGVzc1N0YWNrJywge1xuICBlbnY6IHtcbiAgICBhY2NvdW50OiBwcm9jZXNzLmVudi5DREtfREVGQVVMVF9BQ0NPVU5ULFxuICAgIHJlZ2lvbjogcHJvY2Vzcy5lbnYuQ0RLX0RFRkFVTFRfUkVHSU9OLFxuICB9LFxuICAvLyBQYXNzIHN0YXRlZnVsIHN0YWNrIGFzIGRlcGVuZGVuY3lcbiAgc3RhdGVmdWxTdGFjayxcbn0pO1xuIl19